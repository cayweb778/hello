linux pnpm build错误
https://www.likecs.com/ask-10329563.html#sc=760
这是一个与操作系统相关的问题。在linux的虚拟内存映射中有一个最大的内存分配，你可以增加它

sysctl -w vm.max_map_count=655300

https://www.likecs.com/ask-1615614.html
那么你应该很高兴！



{
  boozsoft-platform-system:
    集团管理
    组织管理
    操作日志
    清除锁定
    主数据

  boozsoft-platform-zongzhang：
    总账
    现金银行
    报表中心

  boozsoft-platform-stock：
    应收
    应付
    存货管理

  boozsoft-platform-gdzc:
    固定资产
}


使用消息队列记录日志，解决sql阻塞，影响功能访问
solr 记录功能搜索
财务会计
预算会计




<pre>
  .      ____  ____  ____  _______      _____ ____  ____________  __ _ _
 /\ \    / __ )/ __ \/ __ \/___   /     / ___// __ \/ ____/_  __/  \ \ \ \
( ( )  / __  / / / / / / /   / /      \__ \/ / / / /_    / /      \ \ \ \
 \\/  / /_/ / /_/ / /_/ /  /  /__    ___/ / /_/ / __/   / /        ) ) ) )
  '  /_____/\____/\____/ /______/   /____/\____/_/     /_/        / / / /
========|==============|====== |=========|_|==============|___/=/_/_/_/
</pre>
### 日程
http://www.form-create.com/v3/guide/


doc.output('save', 'filename.pdf'); //Try to save PDF as a file (not works on ie before 10, and some mobile devices)
doc.output('datauristring');        //returns the data uri string
doc.output('datauri');              //opens the data uri in current window
doc.output('dataurlnewwindow');     //opens the data uri in new window


前端npm依赖管理工具调整
删除node_modules文件
npm remove yarn -g ,卸载yarn
npm install pnpm -g ,安装pnpm
<br>
pnpm config set registry https://registry.npm.taobao.org/ 国内源
<br>
pnpm install, 安装依赖
pnpm dev ,启动web服务
pnpm已经得到10k+的github流量，由字节跳动维护，提高了很多性能和概念

- vue3爱好者论坛 https://www.vue3js.cn/
- JDK版本跨越总结
- 重构项目和NC底层依赖JDK版本为1.8，生产环境为JDK15
  - JDK主要生态，大部分的库文件都在1.8，
  - 安卓库,kotlin,gradle。。java的拓展语言，同样对JDK1.8是最友好的
  - jdk8-15的语法，没有很吸引的特性
  - jdk8-15的性能，没有很吸引的性能提升幅度
  - jdk8+, NC架构底库封装，不支持向上兼容，底库自由开放性很低
  - 生产环境jdk15，可以向下兼容跑jdk1.8,并且性能提升很多也会作用到我们的jdk8项目代码上
  - JAVA1.8是底子，版本越向上走越脱离生态，没有高吸引，没必要丢掉jdk8
    - 这个概念思路，安卓是带头者
    - kotlin紧跟重构了java的语法
    - jdk1.8的大生态
    - 。。。。
  - 编辑器的选择（vscode,myeclipse,云开发编辑器...）目前也是基本停留在jdk1.8上
  - jdk1.8的代码环境，永远可以无损直上jdk15
  
- 对比VUE3的版本跨越：
  - VUE3下一代技术概念
  - 热编译
  - 单文件开发效率
  - 国内对VUE3的积极生态
  - 。。。

- 引入spring rest repository,完美RESTFul风格代码，不用再手动写增删改查
- 完美RESTFul风格代码，不用再手动写增删改查
- 为什么使用pinia https://segmentfault.com/a/1190000040368602
- https://github.com/qishibo/AnotherRedisDesktopManager/releases redis可视化
- idea vue3进度
  - idea开发版本：https://confluence.jetbrains.com/display/IDEADEV/IDEA+2021.2+latest+builds
  - idea开发版本已支持\<script setup>,日程：https://youtrack.jetbrains.com/issue/WEB-49000
  - :deep() https://youtrack.jetbrains.com/issue/WEB-52145 文档https://v3.vuejs.org/api/sfc-style.html#state-driven-dynamic-css
  - :idea 2021.2版本，支持vue3 :deep语法 
- r2dbc:https://github.com/pgjdbc/r2dbc-postgresql
- kotlin-lombok https://youtrack.jetbrains.com/issue/IDEA-275961
- vben
- vue release: v3.2.1 https://v3.vuejs.org/guide/web-components.html


## 财税达NC

## 保证git的本地全局邮箱与云效的有效一致，审计

### 财税达NC ERP
以“新财税、新营销、新平台”三大特性赋能企业，提供财务云、税务云、进销存云、订货商城等SaaS服务

### 生产环境性能要求
- 流畅运行
配置1：  
  - i7 3770
  - ssd固态硬盘256G
  - 内存16G
  - 系统：国产UOS
  - 浏览器：国产360浏览器,QQ浏览器
配置2:
  - i7 4790K
  - ssd固态硬盘256G
  - 内存16G
  - 系统：国产UOS 
  - 浏览器：国产360浏览器,QQ浏览器
配置3:
  - i7 4790K
  - ssd固态硬盘256G
  - 内存16G
  - 系统：win7
  - 浏览器：国产360浏览器,QQ浏览器
配置4:
  - i7 4790K
  - ssd固态硬盘256G
  - 内存16G
  - 系统：win7
  - 浏览器：国产360浏览器,QQ浏览器
。。。
待测，机械硬盘,xp系统，火狐，谷歌。。。

###   
- To Be NO.1
- 站在技术前沿
- 微服务+微前端（完美级架构,革命性的架构）
- c#,go,erlang,php,python,vue3,vue3,react14,react16,angular,未来架构...
- micro-app概念，估计很容易收到google的重视，得到google的支持
```aidl
NC架构采用了很多非常超前的技术（NC集成时仅有几十,几百流量的技术），无一例外，眼下皆成最好的下代技术趋势。。。
```



[NC Alibaba微服务列表](./docs/markdowns/NC微服务列表.md "")

[概述](./docs/markdowns/nc/features/features.md "")
[NC特性](./docs/markdowns/nc/features/features.md "")
[NC设计](./docs/markdowns/nc/features/features.md "")


<div style="float:left;width:50%;">

### 环境

[遇到问题？](./docs/project/issues/问题汇总.md "")

[git提交规范](./docs/markdowns/git提交规范.md "")

[所需环境](./docs/CHANGELOG.md "")

[国内源](./docs/markdowns/env/配置国内源.md "")

Maven 作为开发环境

Gradle 作为设计【boozsoft-nc-designs项目】后端架构环境    


</div>
<div style="float:left;width:50%;">



</div>
<div style="clear:both"></div>

### 核心依赖
#### 前端
[vite](https://vvbin.cn/doc-next/ "")、
[vue3](https://v3.cn.vuejs.org/ "")、
[vue3](https://vuejs.org/guide/quick-start.html "")、
[vben](https://vvbin.cn/doc-next/ "")、
vendor
[//]: # ([antd-vue 2.x]&#40;https://2x.antdv.com/components/overview-cn/ ""&#41;)
[antd-vue ico](https://2x.antdv.com/components/icon-cn "")
[antd-vue 3.x](https://next.antdv.com/components/overview-cn/ "")
、[sheetjs](./docs/project/issues/问题汇总.md "")

#### 后端


[spring cloud Alibaba](./docs/project/issues/问题汇总.md "")

[feign-reactive](./docs/project/issues/问题汇总.md "")(虽然非官方feign，spring推荐支持， 未来应该可能集成到官方)

[r2dbc](./docs/project/issues/问题汇总.md "")



使用 云效制品库






### 架构

[基座](./docs/markdowns/welcomNext/features/whyNext.md "")：vben
[架构](./docs/markdowns/welcomNext/features/whyNext.md "")
[架构特性](./docs/markdowns/welcomNext/features/whyNext.md "")
[架构设计](./docs/markdowns/welcomNext/features/whyNext.md "")
[量化生产计划](./docs/markdowns/welcomNext/features/whyNext.md "")

- 特性集成：
  - [RBAC](./docs/markdowns/designs/RBAC.md)【基于角色控制权限】
  - [租户系统]()
  - [自动化系统]()
  - [微服务]()
  - [表分区实现]()

- 后端集成：
  - [微服务]()
  - [微服务监控]()
  - [消息中间件]()
  - [读写分离中间件]()
  - [redis缓存]()
  - [elk服务日志]()
  - [代码生成]()
  - [分布式文件系统]()

- 前端集成：
  - [vite]()
  - [vue3]()
  - [<script setup\>](https://github.com/vuejs/rfcs/pull/227) <span style='color:#e69c45'>[new]</span>
  - [表单设计]()<span style='color:#e69c45'>[new]</span>
  - [流程管理]()<span style='color:#e69c45'>[new]</span>
  - [跨平台应用]()(tauri,electron)

- 作用：
  - [solr搜索引擎数据库]()： 凭证常用摘要，常用会计科目，金额，常用菜单
  - [微服务]()：服务集中，服务间解耦
  - [分区表]()：提升数据库性能
  - [redis]()：替代session，与项目分离解耦
  - [kafka消息中间件]()：服务间异步处理事件
  - [分布式文件管理系统]()：cdn，静态资源
  - [elk日志]()：

[为什么使用下一代架构？](./docs/markdowns/welcomNext/features/whyNext.md "")
- 后端响应式是未来,吞吐量会更大,而资源占用更少

### 记录

- 规范是个好习惯，要保持

- 集成kotlin支持，简化概念与简化开发代码量

- 支持顶级await
- 租户设计：由postgre角色控制行级权限，实现租户模式
- 稳定性，需开发时测试
- ant-d-vue,很多组件，异步，触发时机等会引发一些问题
  - 1.大数据阻塞（spin），先阻塞，加载条阻塞后才显示
  - 2.其他组件focus()，因时机问题被drawer取消
    ...
    缺点编译慢，在微服务开发中，可以说不会重要

### 路线
[路线图](./docs/markdowns/路线.md "")

### 版本
[版本记录](./docs/CHANGELOG.md "")


改造后微前端 (暂时手动启动)
在 webs/packages/main执行 ： pnpm dev
在 webs/packages/auth执行 ： pnpm dev
在 webs/packages/system执行 ： pnpm dev
浏览器打开http://localhost:3100


改造后微前端
安装依赖： 在 webs 执行 `pnpm initial`
启动项目： 在 webs 执行 `pnpm start`
浏览器打开http://localhost:3100

微前端: micro-app qiankun  satumjs wujie
为什么选用wujie
隔离性强

为什么不选用micro-app，micro-app跨域的状态也没有很好的控制，wujie隔离性强，同域所以选用wujie
